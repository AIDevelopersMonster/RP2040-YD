from machine import Pin
import neopixel
import time
import random

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–Ω–æ–ø–∫–∏ (GPIO 24) –∏ —Å–≤–µ—Ç–æ–¥–∏–æ–¥–∞ WS2812 (GPIO 23)
button = Pin(24, Pin.IN, Pin.PULL_UP)
np = neopixel.NeoPixel(Pin(23), 1)

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ü–≤–µ—Ç–∞ —Å–≤–µ—Ç–æ–¥–∏–æ–¥–∞
def show_color(color):
    np[0] = color
    np.write()

# –§—É–Ω–∫—Ü–∏—è –æ–±—ä—è—Å–Ω–µ–Ω–∏—è –æ–±—Ä–∞—Ç–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –≤ —Å–ª–æ–∂–µ–Ω–∏–∏
def explain_inverse_element():
    print("                                        ")
    print(" \U0001F4A1 –û–ü–†–ï–î–ï–õ–ï–ù–ò–ï:                        ")
    print("\u250C" + "\u2500" * 38 + "\u2510")
    print("‚îÇ –û–±—Ä–∞—Ç–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –≤ —Å–ª–æ–∂–µ–Ω–∏–∏ ‚Äî —ç—Ç–æ    ‚îÇ")
    print("‚îÇ —á–∏—Å–ª–æ, –∫–æ—Ç–æ—Ä–æ–µ –ø—Ä–∏ —Å–ª–æ–∂–µ–Ω–∏–∏ —Å –¥–∞–Ω–Ω—ã–º ‚îÇ")
    print("‚îÇ –¥–∞—ë—Ç –Ω–æ–ª—å. –ù–∞–ø—Ä–∏–º–µ—Ä:                 ‚îÇ")
    print("‚îÇ                                      ‚îÇ")
    print("‚îÇ  5 + (-5) = 0                        ‚îÇ")
    print("\u2514" + "\u2500" * 38 + "\u2518\n")
    print("–¢–µ–ø–µ—Ä—å –ø–æ–ø—Ä–æ–±—É–µ–º –Ω–∞–π—Ç–∏ —Å—É–º–º—É –¥–≤—É—Ö —á–∏—Å–µ–ª!\n")

# –§—É–Ω–∫—Ü–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ—Ä–∞
def generate_problem():
    a = random.randint(-9, 9)
    b = -a  # –û–±—Ä–∞—Ç–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç
    correct_answer = a + b
    return a, b, correct_answer

# –§—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—Ç–≤–µ—Ç–∞ —Å –∫–Ω–æ–ø–∫–æ–π
def check_answer():
    try:
        while True:
            a, b, correct_answer = generate_problem()
            print(f"\n–†–µ—à–∏—Ç–µ –ø—Ä–∏–º–µ—Ä: {a} + {b} = ?")

            try:
                user_answer = int(input("–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –æ—Ç–≤–µ—Ç: "))
            except ValueError:
                print("‚ùå –û—à–∏–±–∫–∞: –í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ!")
                continue

            print("–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—Ç–≤–µ—Ç–∞...")

            while button.value():
                time.sleep(0.1)

            if user_answer == correct_answer:
                print("‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ!")
                show_color((0, 255, 0))  # –ó–µ–ª–µ–Ω—ã–π —Ü–≤–µ—Ç
            else:
                print(f"‚ùå –û—à–∏–±–∫–∞! –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: {correct_answer}")
                show_color((255, 0, 0))  # –ö—Ä–∞—Å–Ω—ã–π —Ü–≤–µ—Ç

            print(f"‚ÑπÔ∏è {a} + {b} = {correct_answer}, –ø–æ—Ç–æ–º—É —á—Ç–æ –ø—Ä–∏ —Å–ª–æ–∂–µ–Ω–∏–∏ —á–∏—Å–ª–∞ —Å –µ–≥–æ –æ–±—Ä–∞—Ç–Ω—ã–º —ç–ª–µ–º–µ–Ω—Ç–æ–º –ø–æ–ª—É—á–∞–µ—Ç—Å—è –Ω–æ–ª—å.")

            time.sleep(1)
            show_color((0, 0, 0))  # –í—ã–∫–ª—é—á–∞–µ–º —Å–≤–µ—Ç–æ–¥–∏–æ–¥
            print("\n–°–ª–µ–¥—É—é—â–∏–π –ø—Ä–∏–º–µ—Ä...\n")

    except KeyboardInterrupt:
        print("\nüö™ –í—ã—Ö–æ–¥ –∏–∑ –ø—Ä–æ–≥—Ä–∞–º–º—ã. –î–æ —Å–≤–∏–¥–∞–Ω–∏—è!")
        show_color((0, 0, 0))  # –í—ã–∫–ª—é—á–∞–µ–º —Å–≤–µ—Ç–æ–¥–∏–æ–¥ –ø–µ—Ä–µ–¥ –≤—ã—Ö–æ–¥–æ–º

# –û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞
explain_inverse_element()  # –û–±—ä—è—Å–Ω—è–µ–º –æ–±—Ä–∞—Ç–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –≤ —Å–ª–æ–∂–µ–Ω–∏–∏
check_answer()  # –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–µ—Å—Ç—ã
0
